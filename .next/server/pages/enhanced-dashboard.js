"use strict";(()=>{var e={};e.id=604,e.ids=[604,660],e.modules={7512:(e,s,a)=>{a.a(e,async(e,t)=>{try{a.r(s),a.d(s,{config:()=>p,default:()=>h,getServerSideProps:()=>b,getStaticPaths:()=>u,getStaticProps:()=>m,reportWebVitals:()=>g,routeModule:()=>S,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>f,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>j});var r=a(7093),n=a(5244),l=a(1323),i=a(9209),c=a.n(i),d=a(5913),o=a(6962),x=e([o]);o=(x.then?(await x)():x)[0];let h=(0,l.l)(o,"default"),m=(0,l.l)(o,"getStaticProps"),u=(0,l.l)(o,"getStaticPaths"),b=(0,l.l)(o,"getServerSideProps"),p=(0,l.l)(o,"config"),g=(0,l.l)(o,"reportWebVitals"),j=(0,l.l)(o,"unstable_getStaticProps"),y=(0,l.l)(o,"unstable_getStaticPaths"),N=(0,l.l)(o,"unstable_getStaticParams"),v=(0,l.l)(o,"unstable_getServerProps"),f=(0,l.l)(o,"unstable_getServerSideProps"),S=new r.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/enhanced-dashboard",pathname:"/enhanced-dashboard",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:o});t()}catch(e){t(e)}})},33:(e,s,a)=>{a.a(e,async(e,t)=>{try{a.d(s,{Z:()=>SessionManager});var r=a(997),n=a(6689),l=a(3300),i=a(76),c=e([i]);function SessionManager({onSessionJoined:e,currentSession:s}){let{user:a}=(0,l.useUser)(),[t,c]=(0,n.useState)([]),[d,o]=(0,n.useState)(!1),[x,h]=(0,n.useState)(null),[m,u]=(0,n.useState)(!1),[b,p]=(0,n.useState)(null),[g,j]=(0,n.useState)({name:"",maxPlayers:6,password:"",isPrivate:!1}),[y,N]=(0,n.useState)("");(0,n.useEffect)(()=>{loadActiveSessions()},[]);let loadActiveSessions=async()=>{try{u(!0);let e=await i.FW.getActiveSessions();c(e)}catch(e){console.error("Failed to load sessions:",e),p("Failed to load active sessions")}finally{u(!1)}},handleCreateSession=async s=>{if(s.preventDefault(),!g.name.trim()){p("Session name is required");return}try{u(!0),p(null);let s=await i.FW.createSession(g.name,g.maxPlayers);o(!1),j({name:"",maxPlayers:6,password:"",isPrivate:!1}),e(s)}catch(e){console.error("Failed to create session:",e),p(e instanceof Error?e.message:"Failed to create session")}finally{u(!1)}},handleJoinSession=async s=>{try{u(!0),p(null);let a=await i.FW.joinSession(s,y||void 0);h(null),N(""),e(a)}catch(e){console.error("Failed to join session:",e),p(e instanceof Error?e.message:"Failed to join session")}finally{u(!1)}},handleLeaveSession=async()=>{if(s)try{u(!0),await i.FW.leaveSession(s.id),e(null),loadActiveSessions()}catch(e){console.error("Failed to leave session:",e),p(e instanceof Error?e.message:"Failed to leave session")}finally{u(!1)}};return s?(0,r.jsxs)("div",{className:"bg-black bg-opacity-70 border border-red-900 border-opacity-40 rounded-lg p-6 text-white",children:[r.jsx("h2",{className:"text-xl font-bold text-green-500 mb-4",children:"Current Session"}),(0,r.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Name:"}),r.jsx("span",{className:"text-green-400",children:s.name})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Players:"}),(0,r.jsxs)("span",{className:"text-green-400",children:[s.playerCount,"/",s.maxPlayers]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Status:"}),r.jsx("span",{className:`${"active"===s.gameState?"text-green-400":"paused"===s.gameState?"text-yellow-400":"text-gray-400"}`,children:s.gameState.toUpperCase()})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Role:"}),r.jsx("span",{className:"text-red-400",children:s.isGM?"Game Master":"Player"})]})]}),r.jsx("button",{onClick:handleLeaveSession,disabled:m,className:"w-full bg-red-700 text-red-100 px-4 py-2 rounded hover:bg-red-600 disabled:opacity-50",children:m?"Leaving...":"Leave Session"})]}):(0,r.jsxs)("div",{className:"bg-black bg-opacity-70 border border-red-900 border-opacity-40 rounded-lg p-6 text-white",children:[r.jsx("h2",{className:"text-xl font-bold text-green-500 mb-4",children:"Session Management"}),b&&(0,r.jsxs)("div",{className:"bg-red-900 bg-opacity-50 border border-red-500 p-3 rounded mb-4",children:[r.jsx("p",{className:"text-red-200",children:b}),r.jsx("button",{onClick:()=>p(null),className:"text-red-400 hover:text-red-200 mt-2 text-sm",children:"Dismiss"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("button",{onClick:()=>o(!0),className:"w-full bg-green-700 text-green-100 px-4 py-2 rounded hover:bg-green-600",children:"Create New Session"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-300",children:"Active Sessions"}),r.jsx("button",{onClick:loadActiveSessions,disabled:m,className:"text-sm text-blue-400 hover:text-blue-200 disabled:opacity-50",children:m?"Loading...":"Refresh"})]}),0===t.length?r.jsx("p",{className:"text-gray-400 italic",children:"No active sessions found"}):r.jsx("div",{className:"space-y-2",children:t.map(e=>r.jsx("div",{className:"border border-gray-700 rounded p-3",children:(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-400",children:[e.playerCount,"/",e.maxPlayers," players • ",e.gameState]})]}),r.jsx("button",{onClick:()=>h(e.id),disabled:e.playerCount>=e.maxPlayers,className:"bg-blue-700 text-blue-100 px-3 py-1 rounded text-sm hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:e.playerCount>=e.maxPlayers?"Full":"Join"})]})},e.id))})]})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-xl font-bold text-green-500 mb-4",children:"Create Session"}),(0,r.jsxs)("form",{onSubmit:handleCreateSession,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-300 mb-2",children:"Session Name"}),r.jsx("input",{type:"text",value:g.name,onChange:e=>j({...g,name:e.target.value}),className:"w-full p-2 bg-gray-800 text-white rounded border border-gray-600",placeholder:"Enter session name...",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-300 mb-2",children:"Max Players"}),r.jsx("select",{value:g.maxPlayers,onChange:e=>j({...g,maxPlayers:parseInt(e.target.value)}),className:"w-full p-2 bg-gray-800 text-white rounded border border-gray-600",children:[2,3,4,5,6,7,8].map(e=>(0,r.jsxs)("option",{value:e,children:[e," players"]},e))})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 bg-gray-700 text-gray-300 rounded hover:bg-gray-600",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-green-700 text-green-100 rounded hover:bg-green-600 disabled:opacity-50",children:m?"Creating...":"Create Session"})]})]})]})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-xl font-bold text-blue-500 mb-4",children:"Join Session"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-300 mb-2",children:"Password (if required)"}),r.jsx("input",{type:"password",value:y,onChange:e=>N(e.target.value),className:"w-full p-2 bg-gray-800 text-white rounded border border-gray-600",placeholder:"Enter password..."})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:()=>h(null),className:"px-4 py-2 bg-gray-700 text-gray-300 rounded hover:bg-gray-600",children:"Cancel"}),r.jsx("button",{onClick:()=>handleJoinSession(x),disabled:m,className:"px-4 py-2 bg-blue-700 text-blue-100 rounded hover:bg-blue-600 disabled:opacity-50",children:m?"Joining...":"Join Session"})]})]})]})})]})}i=(c.then?(await c)():c)[0],t()}catch(e){t(e)}})},6962:(e,s,a)=>{a.a(e,async(e,t)=>{try{a.r(s),a.d(s,{default:()=>EnhancedDashboard});var r=a(997),n=a(6689),l=a(968),i=a.n(l),c=a(1664),d=a.n(c),o=a(3300),x=a(33),h=a(7520),m=e([x]);function EnhancedDashboard(){let{user:e}=(0,o.useUser)(),[s,a]=(0,n.useState)(null),[t,l]=(0,n.useState)(null),[c,m]=(0,n.useState)({activeSessions:0,onlineUsers:0,serverStatus:"Online"}),[u,b]=(0,n.useState)("overview");return(0,n.useEffect)(()=>{let e=localStorage.getItem("shadowrun-current-character");if(e)try{l(JSON.parse(e))}catch(e){console.error("Failed to load saved character:",e)}},[]),(0,n.useEffect)(()=>{t&&localStorage.setItem("shadowrun-current-character",JSON.stringify(t))},[t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i(),{children:[r.jsx("title",{children:"Shadowrun Interface | Enhanced Dashboard"}),r.jsx("meta",{name:"description",content:"Enhanced Shadowrun RPG dashboard with session management and character sheets"})]}),(0,r.jsxs)("main",{className:"min-h-screen bg-gray-950",children:[r.jsx(o.SignedIn,{children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("header",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-green-500 font-mono",children:[r.jsx("span",{className:"text-red-400",children:">"})," ENHANCED OPERATOR DASHBOARD"]}),(0,r.jsxs)("p",{className:"text-gray-400 mt-2",children:["Logged in as ",r.jsx("span",{className:"text-red-400",children:e?.fullName||e?.username||"Unknown Runner"})]}),s&&(0,r.jsxs)("p",{className:"text-green-400 text-sm mt-1",children:["\uD83D\uDD17 Connected to: ",s.name," (",s.isGM?"GM":"Player",")"]})]}),(0,r.jsxs)("div",{className:"text-right text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-gray-400",children:"Server Status:"}),r.jsx("span",{className:`font-bold ${"Online"===c.serverStatus?"text-green-400":"Maintenance"===c.serverStatus?"text-yellow-400":"text-red-400"}`,children:c.serverStatus})]}),(0,r.jsxs)("div",{className:"text-gray-400",children:[c.activeSessions," active sessions • ",c.onlineUsers," users online"]})]})]})}),r.jsx("nav",{className:"mb-6",children:r.jsx("div",{className:"flex space-x-4 border-b border-red-900 border-opacity-40",children:[{id:"overview",label:"Overview",icon:"\uD83D\uDCCA"},{id:"sessions",label:"Sessions",icon:"\uD83C\uDFAE"},{id:"character",label:"Character",icon:"\uD83C\uDFB2"}].map(e=>(0,r.jsxs)("button",{onClick:()=>b(e.id),className:`px-4 py-2 font-medium border-b-2 transition-colors ${u===e.id?"text-green-500 border-green-500":"text-gray-400 border-transparent hover:text-white hover:border-gray-600"}`,children:[r.jsx("span",{className:"mr-2",children:e.icon}),e.label]},e.id))})}),(0,r.jsxs)("div",{className:"space-y-6",children:["overview"===u&&(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-black bg-opacity-70 border border-red-900 border-opacity-40 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-green-500 mb-4",children:"\uD83D\uDE80 Quick Actions"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx(d(),{href:"/enhanced-console",className:"bg-green-700 border border-green-500 text-green-100 px-4 py-3 rounded text-center hover:bg-green-600 transition-colors block",children:"\uD83D\uDDA5️ Launch Enhanced Console"}),r.jsx("button",{onClick:()=>b("sessions"),className:"bg-blue-700 border border-blue-500 text-blue-100 px-4 py-3 rounded text-center hover:bg-blue-600 transition-colors",children:"\uD83C\uDFAE Manage Sessions"}),r.jsx("button",{onClick:()=>b("character"),className:"bg-purple-700 border border-purple-500 text-purple-100 px-4 py-3 rounded text-center hover:bg-purple-600 transition-colors",children:"\uD83C\uDFB2 Character Sheet"}),r.jsx(d(),{href:"/dice-roller",className:"bg-red-700 border border-red-500 text-red-100 px-4 py-3 rounded text-center hover:bg-red-600 transition-colors block",children:"\uD83C\uDFAF Dice Roller"})]})]}),(0,r.jsxs)("div",{className:"bg-black bg-opacity-70 border border-red-900 border-opacity-40 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-green-500 mb-4",children:"\uD83D\uDCE1 Session Status"}),s?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Session:"}),r.jsx("span",{className:"text-white font-medium",children:s.name})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Role:"}),r.jsx("span",{className:`font-medium ${s.isGM?"text-red-400":"text-blue-400"}`,children:s.isGM?"Game Master":"Player"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Players:"}),(0,r.jsxs)("span",{className:"text-green-400",children:[s.playerCount,"/",s.maxPlayers]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Status:"}),r.jsx("span",{className:`font-medium ${"active"===s.gameState?"text-green-400":"paused"===s.gameState?"text-yellow-400":"text-gray-400"}`,children:s.gameState.toUpperCase()})]})]}):(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-400 mb-4",children:"Not connected to any session"}),r.jsx("button",{onClick:()=>b("sessions"),className:"bg-green-700 text-green-100 px-4 py-2 rounded hover:bg-green-600",children:"Join or Create Session"})]})]}),(0,r.jsxs)("div",{className:"bg-black bg-opacity-70 border border-red-900 border-opacity-40 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-green-500 mb-4",children:"\uD83C\uDFAD Active Character"}),t?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Name:"}),r.jsx("span",{className:"text-white font-medium",children:t.name})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Archetype:"}),r.jsx("span",{className:"text-blue-400",children:t.background.archetype})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Metatype:"}),r.jsx("span",{className:"text-purple-400",children:t.metatype})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Edge:"}),(0,r.jsxs)("span",{className:"text-yellow-400",children:[t.attributes.edge,"/3"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm text-gray-400",children:"Physical"}),(0,r.jsxs)("div",{className:"text-lg font-bold text-red-400",children:[t.condition.physical.current,"/",t.condition.physical.max]})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm text-gray-400",children:"Stun"}),(0,r.jsxs)("div",{className:"text-lg font-bold text-yellow-400",children:[t.condition.stun.current,"/",t.condition.stun.max]})]})]})]}):(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-400 mb-4",children:"No active character"}),r.jsx("button",{onClick:()=>b("character"),className:"bg-purple-700 text-purple-100 px-4 py-2 rounded hover:bg-purple-600",children:"Create Character"})]})]}),(0,r.jsxs)("div",{className:"bg-black bg-opacity-70 border border-red-900 border-opacity-40 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-green-500 mb-4",children:"\uD83D\uDCDC Recent Activity"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Session joined"}),r.jsx("span",{className:"text-gray-500",children:"2 hours ago"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Character updated"}),r.jsx("span",{className:"text-gray-500",children:"3 hours ago"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Dice rolled: 14 hits"}),r.jsx("span",{className:"text-gray-500",children:"4 hours ago"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Console accessed"}),r.jsx("span",{className:"text-gray-500",children:"5 hours ago"})]})]})]})]}),"sessions"===u&&r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx(x.Z,{onSessionJoined:e=>{a(e),e&&b("overview")},currentSession:s})}),"character"===u&&r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsx(h.Z,{character:t||void 0,onCharacterUpdate:e=>{l(e)}})})]}),r.jsx("footer",{className:"mt-12 pt-8 border-t border-red-900 border-opacity-40",children:(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-400",children:[r.jsx("div",{children:"Shadowrun Interface v2.0 Enhanced • Built for runners, by runners"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[r.jsx(d(),{href:"/console",className:"hover:text-white",children:"Legacy Console"}),r.jsx(d(),{href:"/enhanced-console",className:"hover:text-white",children:"Enhanced Console"}),r.jsx(d(),{href:"/help",className:"hover:text-white",children:"Help"})]})]})})]})}),r.jsx(o.SignedOut,{children:r.jsx(o.RedirectToSignIn,{})})]})]})}x=(m.then?(await m)():m)[0],t()}catch(e){t(e)}})},3300:e=>{e.exports=require("@clerk/nextjs")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9648:e=>{e.exports=import("axios")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var s=require("../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[761,163,209,450,664,913,520,76],()=>__webpack_exec__(7512));module.exports=a})();