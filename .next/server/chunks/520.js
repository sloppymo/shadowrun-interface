"use strict";exports.id=520,exports.ids=[520],exports.modules={7520:(e,t,r)=>{r.d(t,{Z:()=>CharacterSheet});var i=r(997),a=r(6689);let createDefaultCharacter=()=>({id:"",name:"New Runner",metatype:"Human",attributes:{body:3,agility:3,reaction:3,strength:3,charisma:3,intuition:3,logic:3,willpower:3,edge:3},skills:{Firearms:{rating:3},Athletics:{rating:2},Perception:{rating:3},Stealth:{rating:2},Electronics:{rating:2}},initiatives:{physical:6},condition:{physical:{current:0,max:10},stun:{current:0,max:10}},armor:12,essence:6,nuyen:5e3,gear:["Ares Predator V","Armor Jacket","Commlink","Credstick"],background:{archetype:"Street Samurai",concept:"Gun for hire",notes:""}}),s=["Archery","Firearms","Heavy Weapons","Melee Combat","Throwing Weapons","Unarmed Combat","Athletics","Gymnastics","Stealth","Swimming","Astral","Assensing","Navigation","Perception","Tracking","Biotechnology","Chemistry","Computer","Cybercombat","Cybertechnology","Data Search","Demolitions","Electronic Warfare","First Aid","Forgery","Hacking","Hardware","Industrial Mechanic","Locksmith","Medicine","Nautical Mechanic","Software","Acting","Con","Etiquette","Impersonation","Instruction","Intimidation","Leadership","Negotiation","Performance","Escape Artist","Palming","Pickpocket","Disguise","Shadowing","Survival"];function CharacterSheet({character:e,onCharacterUpdate:t,readonly:r=!1}){let[l,n]=(0,a.useState)(e||createDefaultCharacter()),[c,d]=(0,a.useState)("attributes"),[o,x]=(0,a.useState)("");(0,a.useEffect)(()=>{e&&n(e)},[e]),(0,a.useEffect)(()=>{let e={...l};e.condition.physical.max=Math.ceil((e.attributes.body+e.attributes.willpower)/2)+8,e.condition.stun.max=Math.ceil((e.attributes.willpower+e.attributes.logic)/2)+8,e.initiatives.physical=e.attributes.reaction+e.attributes.intuition,e.attributes.magic&&(e.initiatives.astral=2*e.attributes.intuition+(e.attributes.magic||0)),n(e),t&&!r&&t(e)},[l.attributes,t,r]);let updateAttribute=(e,t)=>{r||n(r=>({...r,attributes:{...r.attributes,[e]:Math.max(1,Math.min(6,t))}}))},updateSkill=(e,t)=>{r||n(r=>({...r,skills:{...r.skills,[e]:{...r.skills[e],rating:Math.max(0,Math.min(6,t))}}}))},removeSkill=e=>{r||n(t=>{let r={...t.skills};return delete r[e],{...t,skills:r}})},rollAttribute=(e,t)=>{console.log(`Rolling ${e}: ${t} dice`)},rollSkill=(e,t,r)=>{console.log(`Rolling ${e}: ${t+r} dice (${t} skill + ${r} attribute)`)};return(0,i.jsxs)("div",{className:"bg-black bg-opacity-70 border border-red-900 border-opacity-40 rounded-lg text-white",children:[i.jsx("div",{className:"p-4 border-b border-red-900 border-opacity-40",children:(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{children:[r?i.jsx("h2",{className:"text-xl font-bold text-green-500",children:l.name}):i.jsx("input",{type:"text",value:l.name,onChange:e=>n(t=>({...t,name:e.target.value})),className:"text-xl font-bold bg-transparent border-b border-green-500 text-green-500 outline-none"}),(0,i.jsxs)("p",{className:"text-gray-400",children:[l.background.archetype," â€¢ ",l.metatype]})]}),(0,i.jsxs)("div",{className:"text-right text-sm",children:[(0,i.jsxs)("div",{children:["Edge: ",l.attributes.edge,"/3"]}),(0,i.jsxs)("div",{children:["Essence: ",l.essence]}),(0,i.jsxs)("div",{children:["Nuyen: \xa5",l.nuyen.toLocaleString()]})]})]})}),i.jsx("div",{className:"flex border-b border-red-900 border-opacity-40",children:[{id:"attributes",label:"Attributes"},{id:"skills",label:"Skills"},{id:"combat",label:"Combat"},{id:"gear",label:"Gear"},{id:"background",label:"Background"}].map(e=>i.jsx("button",{onClick:()=>d(e.id),className:`px-4 py-2 font-medium ${c===e.id?"text-green-500 border-b-2 border-green-500":"text-gray-400 hover:text-white"}`,children:e.label},e.id))}),(0,i.jsxs)("div",{className:"p-4",children:["attributes"===c&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(l.attributes).map(([e,t])=>(0,i.jsxs)("div",{className:"border border-gray-700 rounded p-3",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("label",{className:"font-medium text-green-400 capitalize",children:e}),i.jsx("button",{onClick:()=>rollAttribute(e,t),className:"text-xs bg-blue-700 text-blue-100 px-2 py-1 rounded hover:bg-blue-600",children:"Roll"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[!r&&i.jsx("button",{onClick:()=>updateAttribute(e,t-1),className:"bg-red-700 text-white w-6 h-6 rounded-l text-sm hover:bg-red-600",children:"-"}),i.jsx("div",{className:"bg-gray-800 px-3 py-1 text-center font-bold min-w-[3rem]",children:t}),!r&&i.jsx("button",{onClick:()=>updateAttribute(e,t+1),className:"bg-green-700 text-white w-6 h-6 rounded-r text-sm hover:bg-green-600",children:"+"})]})]},e))}),"skills"===c&&(0,i.jsxs)("div",{children:[!r&&(0,i.jsxs)("div",{className:"mb-4 flex gap-2",children:[(0,i.jsxs)("select",{value:o,onChange:e=>x(e.target.value),className:"flex-1 p-2 bg-gray-800 border border-gray-600 rounded",children:[i.jsx("option",{value:"",children:"Select a skill..."}),s.filter(e=>!l.skills[e]).map(e=>i.jsx("option",{value:e,children:e},e))]}),i.jsx("button",{onClick:()=>{!r&&o.trim()&&!l.skills[o]&&(n(e=>({...e,skills:{...e.skills,[o]:{rating:1}}})),x(""))},disabled:!o,className:"bg-green-700 text-green-100 px-4 py-2 rounded hover:bg-green-600 disabled:opacity-50",children:"Add"})]}),i.jsx("div",{className:"grid gap-3",children:Object.entries(l.skills).map(([e,t])=>{let a=l.attributes[({Firearms:"agility","Melee Combat":"agility","Unarmed Combat":"agility",Athletics:"agility",Stealth:"agility",Perception:"intuition",Intimidation:"charisma",Con:"charisma",Negotiation:"charisma",Leadership:"charisma",Computer:"logic",Electronics:"logic",Medicine:"logic","First Aid":"logic"})[e]||"agility"]||0;return i.jsx("div",{className:"border border-gray-700 rounded p-3",children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-green-400",children:e}),t.specialization&&(0,i.jsxs)("div",{className:"text-xs text-yellow-400",children:["(",t.specialization,")"]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)("span",{className:"text-sm text-gray-400",children:["Pool: ",t.rating+a]}),i.jsx("button",{onClick:()=>rollSkill(e,t.rating,a),className:"text-xs bg-blue-700 text-blue-100 px-2 py-1 rounded hover:bg-blue-600",children:"Roll"}),(0,i.jsxs)("div",{className:"flex items-center",children:[!r&&i.jsx("button",{onClick:()=>updateSkill(e,t.rating-1),className:"bg-red-700 text-white w-6 h-6 rounded-l text-sm hover:bg-red-600",children:"-"}),i.jsx("div",{className:"bg-gray-800 px-3 py-1 text-center font-bold min-w-[3rem]",children:t.rating}),!r&&(0,i.jsxs)(i.Fragment,{children:[i.jsx("button",{onClick:()=>updateSkill(e,t.rating+1),className:"bg-green-700 text-white w-6 h-6 rounded-r text-sm hover:bg-green-600",children:"+"}),i.jsx("button",{onClick:()=>removeSkill(e),className:"ml-2 bg-red-700 text-white w-6 h-6 rounded text-sm hover:bg-red-600",children:"\xd7"})]})]})]})]})},e)})})]}),"combat"===c&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"border border-gray-700 rounded p-4",children:[i.jsx("h3",{className:"font-bold text-red-400 mb-2",children:"Initiative"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-gray-400",children:"Physical"}),(0,i.jsxs)("div",{className:"text-lg font-bold",children:[l.initiatives.physical," + 1d6"]})]}),l.initiatives.astral&&(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-gray-400",children:"Astral"}),(0,i.jsxs)("div",{className:"text-lg font-bold",children:[l.initiatives.astral," + 2d6"]})]})]})]}),(0,i.jsxs)("div",{className:"border border-gray-700 rounded p-4",children:[i.jsx("h3",{className:"font-bold text-red-400 mb-2",children:"Condition Monitors"}),(0,i.jsxs)("div",{className:"space-y-3",children:[i.jsx(ConditionMonitor,{label:"Physical",current:l.condition.physical.current,max:l.condition.physical.max,onChange:e=>!r&&n(t=>({...t,condition:{...t.condition,physical:{...t.condition.physical,current:e}}})),readonly:r}),i.jsx(ConditionMonitor,{label:"Stun",current:l.condition.stun.current,max:l.condition.stun.max,onChange:e=>!r&&n(t=>({...t,condition:{...t.condition,stun:{...t.condition.stun,current:e}}})),readonly:r})]})]}),(0,i.jsxs)("div",{className:"border border-gray-700 rounded p-4",children:[i.jsx("h3",{className:"font-bold text-red-400 mb-2",children:"Armor"}),i.jsx("div",{className:"text-2xl font-bold text-center",children:l.armor})]})]}),"gear"===c&&(0,i.jsxs)("div",{children:[i.jsx("h3",{className:"font-bold text-red-400 mb-4",children:"Equipment"}),(0,i.jsxs)("div",{className:"space-y-2",children:[l.gear.map((e,t)=>(0,i.jsxs)("div",{className:"border border-gray-700 rounded p-2 flex justify-between items-center",children:[i.jsx("span",{children:e}),!r&&i.jsx("button",{onClick:()=>n(e=>({...e,gear:e.gear.filter((e,r)=>r!==t)})),className:"text-red-400 hover:text-red-200",children:"Remove"})]},t)),!r&&i.jsx("input",{type:"text",placeholder:"Add equipment...",className:"w-full p-2 bg-gray-800 border border-gray-600 rounded",onKeyDown:e=>{"Enter"===e.key&&e.currentTarget.value.trim()&&(n(t=>({...t,gear:[...t.gear,e.currentTarget.value.trim()]})),e.currentTarget.value="")}})]})]}),"background"===c&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-gray-400 mb-2",children:"Concept"}),r?i.jsx("p",{className:"text-white",children:l.background.concept}):i.jsx("input",{type:"text",value:l.background.concept,onChange:e=>n(t=>({...t,background:{...t.background,concept:e.target.value}})),className:"w-full p-2 bg-gray-800 border border-gray-600 rounded text-white"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-gray-400 mb-2",children:"Notes"}),r?i.jsx("p",{className:"text-white whitespace-pre-wrap",children:l.background.notes}):i.jsx("textarea",{value:l.background.notes,onChange:e=>n(t=>({...t,background:{...t.background,notes:e.target.value}})),className:"w-full p-2 bg-gray-800 border border-gray-600 rounded text-white h-32",placeholder:"Character background, contacts, motivations..."})]})]})]})]})}function ConditionMonitor({label:e,current:t,max:r,onChange:a,readonly:s}){let l=Array.from({length:r},(e,r)=>r<t);return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("label",{className:"text-gray-400",children:e}),(0,i.jsxs)("span",{className:"text-sm",children:[t,"/",r]})]}),i.jsx("div",{className:"flex flex-wrap gap-1",children:l.map((e,r)=>i.jsx("button",{onClick:()=>!s&&a(e?t-1:t+1),className:`w-6 h-6 border-2 ${e?"bg-red-600 border-red-400":"border-gray-600 hover:border-gray-400"} ${s?"cursor-default":"cursor-pointer"}`,disabled:s},r))})]})}}};