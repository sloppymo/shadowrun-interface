"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{7520:function(e,t,r){r.d(t,{Z:function(){return CharacterSheet}});var i=r(5893),a=r(7294);let createDefaultCharacter=()=>({id:"",name:"New Runner",metatype:"Human",attributes:{body:3,agility:3,reaction:3,strength:3,charisma:3,intuition:3,logic:3,willpower:3,edge:3},skills:{Firearms:{rating:3},Athletics:{rating:2},Perception:{rating:3},Stealth:{rating:2},Electronics:{rating:2}},initiatives:{physical:6},condition:{physical:{current:0,max:10},stun:{current:0,max:10}},armor:12,essence:6,nuyen:5e3,gear:["Ares Predator V","Armor Jacket","Commlink","Credstick"],background:{archetype:"Street Samurai",concept:"Gun for hire",notes:""}}),s=["Archery","Firearms","Heavy Weapons","Melee Combat","Throwing Weapons","Unarmed Combat","Athletics","Gymnastics","Stealth","Swimming","Astral","Assensing","Navigation","Perception","Tracking","Biotechnology","Chemistry","Computer","Cybercombat","Cybertechnology","Data Search","Demolitions","Electronic Warfare","First Aid","Forgery","Hacking","Hardware","Industrial Mechanic","Locksmith","Medicine","Nautical Mechanic","Software","Acting","Con","Etiquette","Impersonation","Instruction","Intimidation","Leadership","Negotiation","Performance","Escape Artist","Palming","Pickpocket","Disguise","Shadowing","Survival"];function CharacterSheet(e){let{character:t,onCharacterUpdate:r,readonly:l=!1}=e,[n,c]=(0,a.useState)(t||createDefaultCharacter()),[d,o]=(0,a.useState)("attributes"),[b,m]=(0,a.useState)("");(0,a.useEffect)(()=>{t&&c(t)},[t]),(0,a.useEffect)(()=>{let e={...n};e.condition.physical.max=Math.ceil((e.attributes.body+e.attributes.willpower)/2)+8,e.condition.stun.max=Math.ceil((e.attributes.willpower+e.attributes.logic)/2)+8,e.initiatives.physical=e.attributes.reaction+e.attributes.intuition,e.attributes.magic&&(e.initiatives.astral=2*e.attributes.intuition+(e.attributes.magic||0)),c(e),r&&!l&&r(e)},[n.attributes,r,l]);let updateAttribute=(e,t)=>{l||c(r=>({...r,attributes:{...r.attributes,[e]:Math.max(1,Math.min(6,t))}}))},updateSkill=(e,t)=>{l||c(r=>({...r,skills:{...r.skills,[e]:{...r.skills[e],rating:Math.max(0,Math.min(6,t))}}}))},removeSkill=e=>{l||c(t=>{let r={...t.skills};return delete r[e],{...t,skills:r}})},rollAttribute=(e,t)=>{console.log("Rolling ".concat(e,": ").concat(t," dice"))},rollSkill=(e,t,r)=>{let i=t+r;console.log("Rolling ".concat(e,": ").concat(i," dice (").concat(t," skill + ").concat(r," attribute)"))};return(0,i.jsxs)("div",{className:"bg-black bg-opacity-70 border border-red-900 border-opacity-40 rounded-lg text-white",children:[(0,i.jsx)("div",{className:"p-4 border-b border-red-900 border-opacity-40",children:(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{children:[l?(0,i.jsx)("h2",{className:"text-xl font-bold text-green-500",children:n.name}):(0,i.jsx)("input",{type:"text",value:n.name,onChange:e=>c(t=>({...t,name:e.target.value})),className:"text-xl font-bold bg-transparent border-b border-green-500 text-green-500 outline-none"}),(0,i.jsxs)("p",{className:"text-gray-400",children:[n.background.archetype," â€¢ ",n.metatype]})]}),(0,i.jsxs)("div",{className:"text-right text-sm",children:[(0,i.jsxs)("div",{children:["Edge: ",n.attributes.edge,"/3"]}),(0,i.jsxs)("div",{children:["Essence: ",n.essence]}),(0,i.jsxs)("div",{children:["Nuyen: \xa5",n.nuyen.toLocaleString()]})]})]})}),(0,i.jsx)("div",{className:"flex border-b border-red-900 border-opacity-40",children:[{id:"attributes",label:"Attributes"},{id:"skills",label:"Skills"},{id:"combat",label:"Combat"},{id:"gear",label:"Gear"},{id:"background",label:"Background"}].map(e=>(0,i.jsx)("button",{onClick:()=>o(e.id),className:"px-4 py-2 font-medium ".concat(d===e.id?"text-green-500 border-b-2 border-green-500":"text-gray-400 hover:text-white"),children:e.label},e.id))}),(0,i.jsxs)("div",{className:"p-4",children:["attributes"===d&&(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(n.attributes).map(e=>{let[t,r]=e;return(0,i.jsxs)("div",{className:"border border-gray-700 rounded p-3",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,i.jsx)("label",{className:"font-medium text-green-400 capitalize",children:t}),(0,i.jsx)("button",{onClick:()=>rollAttribute(t,r),className:"text-xs bg-blue-700 text-blue-100 px-2 py-1 rounded hover:bg-blue-600",children:"Roll"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[!l&&(0,i.jsx)("button",{onClick:()=>updateAttribute(t,r-1),className:"bg-red-700 text-white w-6 h-6 rounded-l text-sm hover:bg-red-600",children:"-"}),(0,i.jsx)("div",{className:"bg-gray-800 px-3 py-1 text-center font-bold min-w-[3rem]",children:r}),!l&&(0,i.jsx)("button",{onClick:()=>updateAttribute(t,r+1),className:"bg-green-700 text-white w-6 h-6 rounded-r text-sm hover:bg-green-600",children:"+"})]})]},t)})}),"skills"===d&&(0,i.jsxs)("div",{children:[!l&&(0,i.jsxs)("div",{className:"mb-4 flex gap-2",children:[(0,i.jsxs)("select",{value:b,onChange:e=>m(e.target.value),className:"flex-1 p-2 bg-gray-800 border border-gray-600 rounded",children:[(0,i.jsx)("option",{value:"",children:"Select a skill..."}),s.filter(e=>!n.skills[e]).map(e=>(0,i.jsx)("option",{value:e,children:e},e))]}),(0,i.jsx)("button",{onClick:()=>{!l&&b.trim()&&!n.skills[b]&&(c(e=>({...e,skills:{...e.skills,[b]:{rating:1}}})),m(""))},disabled:!b,className:"bg-green-700 text-green-100 px-4 py-2 rounded hover:bg-green-600 disabled:opacity-50",children:"Add"})]}),(0,i.jsx)("div",{className:"grid gap-3",children:Object.entries(n.skills).map(e=>{let[t,r]=e,a=n.attributes[({Firearms:"agility","Melee Combat":"agility","Unarmed Combat":"agility",Athletics:"agility",Stealth:"agility",Perception:"intuition",Intimidation:"charisma",Con:"charisma",Negotiation:"charisma",Leadership:"charisma",Computer:"logic",Electronics:"logic",Medicine:"logic","First Aid":"logic"})[t]||"agility"]||0;return(0,i.jsx)("div",{className:"border border-gray-700 rounded p-3",children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("div",{className:"font-medium text-green-400",children:t}),r.specialization&&(0,i.jsxs)("div",{className:"text-xs text-yellow-400",children:["(",r.specialization,")"]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)("span",{className:"text-sm text-gray-400",children:["Pool: ",r.rating+a]}),(0,i.jsx)("button",{onClick:()=>rollSkill(t,r.rating,a),className:"text-xs bg-blue-700 text-blue-100 px-2 py-1 rounded hover:bg-blue-600",children:"Roll"}),(0,i.jsxs)("div",{className:"flex items-center",children:[!l&&(0,i.jsx)("button",{onClick:()=>updateSkill(t,r.rating-1),className:"bg-red-700 text-white w-6 h-6 rounded-l text-sm hover:bg-red-600",children:"-"}),(0,i.jsx)("div",{className:"bg-gray-800 px-3 py-1 text-center font-bold min-w-[3rem]",children:r.rating}),!l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>updateSkill(t,r.rating+1),className:"bg-green-700 text-white w-6 h-6 rounded-r text-sm hover:bg-green-600",children:"+"}),(0,i.jsx)("button",{onClick:()=>removeSkill(t),className:"ml-2 bg-red-700 text-white w-6 h-6 rounded text-sm hover:bg-red-600",children:"\xd7"})]})]})]})]})},t)})})]}),"combat"===d&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"border border-gray-700 rounded p-4",children:[(0,i.jsx)("h3",{className:"font-bold text-red-400 mb-2",children:"Initiative"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-gray-400",children:"Physical"}),(0,i.jsxs)("div",{className:"text-lg font-bold",children:[n.initiatives.physical," + 1d6"]})]}),n.initiatives.astral&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-gray-400",children:"Astral"}),(0,i.jsxs)("div",{className:"text-lg font-bold",children:[n.initiatives.astral," + 2d6"]})]})]})]}),(0,i.jsxs)("div",{className:"border border-gray-700 rounded p-4",children:[(0,i.jsx)("h3",{className:"font-bold text-red-400 mb-2",children:"Condition Monitors"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)(ConditionMonitor,{label:"Physical",current:n.condition.physical.current,max:n.condition.physical.max,onChange:e=>!l&&c(t=>({...t,condition:{...t.condition,physical:{...t.condition.physical,current:e}}})),readonly:l}),(0,i.jsx)(ConditionMonitor,{label:"Stun",current:n.condition.stun.current,max:n.condition.stun.max,onChange:e=>!l&&c(t=>({...t,condition:{...t.condition,stun:{...t.condition.stun,current:e}}})),readonly:l})]})]}),(0,i.jsxs)("div",{className:"border border-gray-700 rounded p-4",children:[(0,i.jsx)("h3",{className:"font-bold text-red-400 mb-2",children:"Armor"}),(0,i.jsx)("div",{className:"text-2xl font-bold text-center",children:n.armor})]})]}),"gear"===d&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-bold text-red-400 mb-4",children:"Equipment"}),(0,i.jsxs)("div",{className:"space-y-2",children:[n.gear.map((e,t)=>(0,i.jsxs)("div",{className:"border border-gray-700 rounded p-2 flex justify-between items-center",children:[(0,i.jsx)("span",{children:e}),!l&&(0,i.jsx)("button",{onClick:()=>c(e=>({...e,gear:e.gear.filter((e,r)=>r!==t)})),className:"text-red-400 hover:text-red-200",children:"Remove"})]},t)),!l&&(0,i.jsx)("input",{type:"text",placeholder:"Add equipment...",className:"w-full p-2 bg-gray-800 border border-gray-600 rounded",onKeyDown:e=>{"Enter"===e.key&&e.currentTarget.value.trim()&&(c(t=>({...t,gear:[...t.gear,e.currentTarget.value.trim()]})),e.currentTarget.value="")}})]})]}),"background"===d&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-gray-400 mb-2",children:"Concept"}),l?(0,i.jsx)("p",{className:"text-white",children:n.background.concept}):(0,i.jsx)("input",{type:"text",value:n.background.concept,onChange:e=>c(t=>({...t,background:{...t.background,concept:e.target.value}})),className:"w-full p-2 bg-gray-800 border border-gray-600 rounded text-white"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-gray-400 mb-2",children:"Notes"}),l?(0,i.jsx)("p",{className:"text-white whitespace-pre-wrap",children:n.background.notes}):(0,i.jsx)("textarea",{value:n.background.notes,onChange:e=>c(t=>({...t,background:{...t.background,notes:e.target.value}})),className:"w-full p-2 bg-gray-800 border border-gray-600 rounded text-white h-32",placeholder:"Character background, contacts, motivations..."})]})]})]})]})}function ConditionMonitor(e){let{label:t,current:r,max:a,onChange:s,readonly:l}=e,n=Array.from({length:a},(e,t)=>t<r);return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,i.jsx)("label",{className:"text-gray-400",children:t}),(0,i.jsxs)("span",{className:"text-sm",children:[r,"/",a]})]}),(0,i.jsx)("div",{className:"flex flex-wrap gap-1",children:n.map((e,t)=>(0,i.jsx)("button",{onClick:()=>!l&&s(e?r-1:r+1),className:"w-6 h-6 border-2 ".concat(e?"bg-red-600 border-red-400":"border-gray-600 hover:border-gray-400"," ").concat(l?"cursor-default":"cursor-pointer"),disabled:l},t))})]})}}}]);