(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[436],{5180:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/console",function(){return n(5045)}])},5045:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(5893),r=n(9008),s=n.n(r),c=n(2282),l=n(8274),o=n(7294);let i={shadowrunBarren:{name:"Shadowrun Barren",background:"bg-gray-950",text:"text-red-300",secondaryText:"text-gray-400",accent:"bg-red-900 text-red-100",prompt:"text-green-500",input:"bg-gray-900 border-red-900 border",inputText:"text-red-200",secondaryBackground:"bg-gray-900"},matrix:{name:"Matrix",background:"bg-black",text:"text-green-400",secondaryText:"text-green-600",accent:"bg-green-700 text-green-200",prompt:"text-green-500",input:"bg-black border-green-700 border",inputText:"text-green-400",secondaryBackground:"bg-green-900 bg-opacity-20"},cyberpunk:{name:"Cyberpunk",background:"bg-purple-900",text:"text-pink-300",secondaryText:"text-blue-300",accent:"bg-pink-600 text-blue-200",prompt:"text-yellow-300",input:"bg-purple-800 border-pink-500 border",inputText:"text-pink-300",secondaryBackground:"bg-purple-800"},terminal:{name:"Terminal",background:"bg-black",text:"text-amber-400",secondaryText:"text-amber-600",accent:"bg-amber-800 text-amber-200",prompt:"text-amber-500",input:"bg-black border-amber-700 border",inputText:"text-amber-400",secondaryBackground:"bg-amber-900 bg-opacity-20"}},d=[{id:"xs",name:"Extra Small",class:"text-xs"},{id:"sm",name:"Small",class:"text-sm"},{id:"base",name:"Medium",class:"text-base"},{id:"lg",name:"Large",class:"text-lg"},{id:"xl",name:"Extra Large",class:"text-xl"}];function m(){var e;let{user:t,isSignedIn:n}=(0,l.aF)(),[r,s]=(0,o.useState)(""),[c,m]=(0,o.useState)([]),[u,x]=(0,o.useState)("> "),[p,g]=(0,o.useState)(!1),[h,b]=(0,o.useState)(!1),f=(0,o.useRef)(null),j=(0,o.useRef)(null),[y,N]=(0,o.useState)({theme:"shadowrunBarren",fontSize:"base"});(0,o.useEffect)(()=>{let e=localStorage.getItem("shadowrun-settings");if(e)try{let t=JSON.parse(e);N(t)}catch(e){console.error("Failed to parse settings:",e)}x(n?"".concat((null==t?void 0:t.firstName)||"User","@SR > "):"> "),m([{command:"",output:'Shadowrun Interface Terminal v1.0\nType "help" for available commands.\nConnecting to the Matrix...'}])},[n,t]),(0,o.useEffect)(()=>{localStorage.setItem("shadowrun-settings",JSON.stringify(y))},[y]),(0,o.useEffect)(()=>{j.current&&(j.current.scrollTop=j.current.scrollHeight)},[c]),(0,o.useEffect)(()=>{f.current&&f.current.focus()},[]);let v=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];m(r=>[...r,{command:e,output:t,isProcessing:n,isStreaming:a}])},k=async e=>{if(e.preventDefault(),!r.trim()||p)return;let t=r.trim();s(""),v(t,"",!0),await w(t)},w=async e=>{let t=e.toLowerCase();g(!0);try{if("clear"===t){m([]),g(!1);return}if("help"===t)v(e,"Available commands:\n- clear: Clear the console\n- help: Show this help message\n- theme [name]: Change console theme (shadowrunBarren, matrix, cyberpunk, terminal)\n- settings: Open settings panel\n- /scene [description]: Set a new scene\n- /roll [dice]: Roll dice (e.g., /roll 3d6)\n- /summon [character]: Summon an NPC\n- /echo [message]: Display a message to all players",!1);else if(t.startsWith("theme ")){let n=t.replace("theme ","");if(i[n]){let t={...y,theme:n};N(t),v(e,"Theme changed to ".concat(i[n].name),!1)}else v(e,"Theme not found. Available themes: ".concat(Object.keys(i).join(", ")),!1)}else if("settings"===t)b(!0),v(e,"Opening settings panel...",!1);else if(t.startsWith("/scene ")){let t=e.substring(7);v(e,"Setting scene: ".concat(t,"\nThe GM is describing the scene..."),!1)}else if(t.startsWith("/roll ")){let t=e.substring(6);v(e,"Rolling ".concat(t,"...\nResult: 14 (simulated roll)"),!1)}else v(e,"Unknown command: ".concat(e,'\nType "help" for available commands.'),!1)}catch(t){console.error("Error processing command:",t),v(e,"Error: ".concat(t instanceof Error?t.message:"Unknown error processing command"),!1)}finally{g(!1)}},S=i[y.theme],T=(null===(e=d.find(e=>e.id===y.fontSize))||void 0===e?void 0:e.class)||"text-base";return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col ".concat(S.background),children:[(0,a.jsx)("header",{className:"p-2 border-b border-red-900",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"".concat(S.prompt," font-mono font-bold"),children:"SHADOWRUN MATRIX INTERFACE"}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("button",{onClick:()=>b(!0),className:"px-3 py-1 rounded ".concat(S.accent," hover:opacity-80"),children:"Settings"})})]})}),(0,a.jsx)("div",{ref:j,className:"flex-1 p-4 overflow-y-auto font-mono ".concat(T),onClick:()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.focus()},children:c.map((e,t)=>(0,a.jsxs)("div",{className:"mb-4",children:[e.command&&(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("span",{className:"".concat(S.prompt," mr-2"),children:u}),(0,a.jsx)("span",{className:S.text,children:e.command})]}),(0,a.jsxs)("div",{className:"pl-4 whitespace-pre-wrap ".concat(S.secondaryText),children:[e.output,e.isProcessing&&(0,a.jsx)("span",{className:"streaming-cursor ml-1"})]})]},t))}),(0,a.jsx)("form",{onSubmit:k,className:"p-2 border-t border-red-900",children:(0,a.jsxs)("div",{className:"flex items-center ".concat(S.input," p-2 rounded"),children:[(0,a.jsx)("span",{className:"".concat(S.prompt," mr-2"),children:u}),(0,a.jsx)("input",{ref:f,type:"text",value:r,onChange:e=>s(e.target.value),className:"flex-1 bg-transparent outline-none ".concat(S.inputText),disabled:p,placeholder:p?"Processing...":"Type a command..."})]})}),h&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"".concat(S.secondaryBackground," p-6 rounded-lg max-w-md w-full"),children:[(0,a.jsx)("h2",{className:"".concat(S.prompt," text-xl font-bold mb-4"),children:"Console Settings"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"".concat(S.text," block mb-2"),children:"Theme"}),(0,a.jsx)("select",{value:y.theme,onChange:e=>N({...y,theme:e.target.value}),className:"w-full p-2 bg-gray-800 text-white rounded",children:Object.entries(i).map(e=>{let[t,n]=e;return(0,a.jsx)("option",{value:t,children:n.name},t)})})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"".concat(S.text," block mb-2"),children:"Font Size"}),(0,a.jsx)("select",{value:y.fontSize,onChange:e=>N({...y,fontSize:e.target.value}),className:"w-full p-2 bg-gray-800 text-white rounded",children:d.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,a.jsx)("div",{className:"flex justify-end mt-6",children:(0,a.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 rounded ".concat(S.accent),children:"Close"})})]})})]})}function u(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s(),{children:[(0,a.jsx)("title",{children:"Shadowrun Interface | Console"}),(0,a.jsx)("meta",{name:"description",content:"Shadowrun RPG terminal interface"})]}),(0,a.jsx)(c.CH,{children:(0,a.jsx)("div",{className:"min-h-screen bg-sr-dark flex flex-col",children:(0,a.jsx)(m,{})})}),(0,a.jsx)(c.tj,{children:(0,a.jsx)(l.N1,{})})]})}},9008:function(e,t,n){e.exports=n(7828)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5180)}),_N_E=e.O()}]);